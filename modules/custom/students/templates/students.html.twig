<!-- SortableJS CDN -->
{{ attach_library('students/students.css') }}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://raw.githack.com/SortableJS/Sortable/master/Sortable.js"></script>

<h1>{{ items.title }}</h1>
{% if items.data is empty %}
  <div>No student data are added yet</div>
{% else %}

  <table>
    <tbody id="sortablelist">
      <tr>
        <th class="custom">Student name</th>
        <th class="custom">Student gender</th>
        <th class="custom">Student faculty number</th>
        <th class="custom">Edit student</th>
        <th class="custom">Delete student</th>
      </tr>
    {% for student in items.data %}
      <tr id="student-row-{{ student.id }}" data-sort-order="{{ student.sort_order }}" data-id="{{ student.id }}">
        <td>{{ student.name }}</td>
        <td>{{ student.gender }}</td>
        <td>{{ student.faculty_number }}</td>
        <td><a href="/drupal/edit_student/{{ student.id }}">Edit</a></td>
        <td><a class="use-ajax" href="/drupal/delete_student/{{ student.id }}">Delete</a></td>
  {#      <td>{{ link() }}</td>#}
  {#      <td>{{ link() }}</td>#}
      </tr>
  {% endfor %}
    </tbody>
  </table>
{% endif %}


<script>
  console.log(sortablelist)
  new Sortable(sortablelist, {
    animation: 150,
  });
  console.log(sortablelist)
</script>


